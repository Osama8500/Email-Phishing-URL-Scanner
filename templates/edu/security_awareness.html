{% extends "base.html" %}

{% block title %}Ø§Ù„ØªÙˆØ¹ÙŠØ© Ø§Ù„Ø£Ù…Ù†ÙŠØ© - PhishGuard{% endblock %}

{% block extra_css %}
<style>
    .edu-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }

    .edu-title {
        font-size: 2.5rem;
        color: var(--text-color);
        margin-bottom: 1rem;
    }

    .edu-section {
        background: var(--container-bg);
        border-radius: 20px;
        padding: 3rem 2rem;
        margin-bottom: 3rem;
    }

    .edu-section h2 {
        font-size: 2rem;
        color: var(--text-color);
        margin-bottom: 1rem;
    }

    .edu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }

    .edu-card {
        background: var(--container-bg);
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        transition: all 0.3s ease;
    }

    .edu-card:hover {
        transform: translateY(-5px);
    }

    .interactive-card {
        cursor: pointer;
    }

    .edu-btn {
        display: inline-block;
        background: var(--primary-color);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .edu-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .details-content {
        font-size: 1.2rem;
        line-height: 1.6;
        padding: 1.5rem;
        margin-top: 1rem;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease;
    }

    .details-content.show {
        padding: 1.5rem;
        border-top: 1px solid var(--border-color);
    }

    .details-content h4 {
        font-size: 1.4rem;
        color: var(--primary-color);
        margin-bottom: 0.8rem;
    }

    .details-content ul {
        padding-right: 1.5rem;
    }

    .details-content li {
        margin-bottom: 0.5rem;
    }

    .quiz-section {
        background: var(--container-bg);
        border-radius: 20px;
        padding: 3rem 2rem;
        margin-bottom: 3rem;
    }

    .quiz-question {
        font-size: 1.2rem;
        color: var(--text-color);
        margin-bottom: 1.5rem;
    }

    .quiz-options {
        display: grid;
        gap: 1rem;
    }

    .quiz-option {
        padding: 1rem;
        background: var(--container-bg);
        border: 2px solid var(--border-color);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .quiz-option:hover {
        border-color: var(--primary-color);
    }

    .quiz-option.selected {
        background: var(--primary-color);
        color: white;
        border-color: var(--primary-color);
    }

    .quiz-option.correct-answer {
        background: #28a745;
        color: white;
        border-color: #28a745;
    }

    .quiz-option.wrong-answer {
        background: #dc3545;
        color: white;
        border-color: #dc3545;
    }

    .result-simple {
      text-align: center;
      padding: 2rem;
      background: var(--container-bg);
      border-radius: 15px;
    }

    #next-btn {
      display: block;
      margin: 20px auto;
      padding: 10px 25px;
    }

    .result-box {
      background: var(--container-bg);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin-top: 20px;
    }

    .result-score {
        font-size: 1.5rem;
        margin-bottom: 1rem;
    }

    .result-score.good {
        color: #28a745;
    }

    .result-score.bad {
        color: #dc3545;
    }
</style>
{% endblock %}

{% block content %}
<div class="edu-container">
    <h1 class="edu-title">Ø§Ù„ØªÙˆØ¹ÙŠØ© Ø§Ù„Ø£Ù…Ù†ÙŠØ©</h1>

    <!-- Personal Security Section -->
    <section class="edu-section">
        <h2><i class="fas fa-user-shield"></i> Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø´Ø®ØµÙŠ</h2>
        <div class="edu-grid">
          <!-- Ù‚Ø³Ù… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· -->
          <div class="edu-card interactive-card">
            <h3>Ø§Ù„ØªØµÙŠØ¯ Ø¹Ø¨Ø± Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</h3>
            <p>ÙƒØ´Ù Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø®Ø§Ø¯Ø¹Ø©</p>
            <button class="edu-btn" onclick="showDetails(this)">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            <div class="details-content">
              <h4>Ø£Ù…Ø«Ù„Ø© Ø´Ø§Ø¦Ø¹Ø©:</h4>
              <ul>
                <li>Ø±ÙˆØ§Ø¨Ø· Ø¨ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ø³ÙŠØ·Ø© ÙÙŠ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹</li>
                <li>Ø§Ø®ØªØµØ§Ø±Ø§Øª Ø±ÙˆØ§Ø¨Ø· Ù…Ø®ÙÙŠØ©</li>
              </ul>
            </div>
          </div>

          <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª -->
          <div class="edu-card interactive-card">
            <h3>Ø§Ù„ØªØµÙŠØ¯ Ø¹Ø¨Ø± Ø§Ù„Ù…Ù„ÙØ§Øª</h3>
            <p>Ø®Ø¯Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø®Ø·ÙŠØ±Ø©</p>
            <button class="edu-btn" onclick="showDetails(this)">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            <div class="details-content">
              <h4>ØªØ­Ø°ÙŠØ±Ø§Øª Ù‡Ø§Ù…Ø©:</h4>
              <ul>
                <li>Ù…Ù„ÙØ§Øª PDF ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±ÙˆØ§Ø¨Ø· Ø®Ø¨ÙŠØ«Ø©</li>
                <li>Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆÙˆØ±Ø¯ Ø£Ùˆ Ø¥ÙƒØ³Ù„ Ø¶Ø§Ø±Ø©</li>
              </ul>
            </div>
          </div>

          <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
          <div class="edu-card interactive-card">
            <h3>Ø§Ù„ØªØµÙŠØ¯ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h3>
            <p>Ø±Ø³Ø§Ø¦Ù„ Ø§Ø­ØªÙŠØ§Ù„ÙŠØ©</p>
            <button class="edu-btn" onclick="showDetails(this)">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
            <div class="details-content">
              <h4>Ù†ØµØ§Ø¦Ø­ Ø£Ù…Ù†ÙŠØ©:</h4>
              <ul>
                <li>Ù„Ø§ ØªØ±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ø¦Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</li>
                <li>ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø±Ø³Ù„</li>
                <li>Ø§Ø­Ø°Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…ØºØ±ÙŠØ© ØºÙŠØ± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</li>
              </ul>
            </div>
          </div>
        </div>
    </section>

    <!-- Interactive Quiz Section -->
    <section class="edu-section quiz-section">
        <h2><i class="fas fa-question-circle"></i> Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ¹ÙŠØ© Ø¶Ø¯ Ø§Ù„ØªØµÙŠØ¯</h2>
        <div id="quiz-container">
            <div class="quiz-question active">
                <h3>Ø§Ù„Ø³Ø¤Ø§Ù„ 1/3</h3>
                <p>Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØµØ­ÙŠØ­ Ø¹Ù†Ø¯ ØªÙ„Ù‚ÙŠ Ø±Ø³Ø§Ù„Ø© Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØªØ·Ù„Ø¨ ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø¨Ù†ÙƒÙŠØ©ØŸ</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this)">Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø«Ù… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                    <div class="quiz-option correct" onclick="selectOption(this)">Ø¹Ø¯Ù… Ø§Ù„Ø±Ø¯ ÙˆØ­Ø°Ù Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙÙˆØ±Ø§Ù‹</div>
                    <div class="quiz-option" onclick="selectOption(this)">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø¨Ø³Ø±Ø¹Ø©</div>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Ø§Ù„Ø³Ø¤Ø§Ù„ 2/3</h3>
                <p>ÙƒÙŠÙ ØªØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø±Ø§Ø¨Ø· Ù‚Ø¨Ù„ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡ØŸ</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this)">Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡ Ù„Ù…Ø¹Ø±ÙØ© Ù…Ø­ØªÙˆØ§Ù‡</div>
                    <div class="quiz-option correct" onclick="selectOption(this)">ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø¤Ø´Ø± ÙÙˆÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ</div>
                    <div class="quiz-option" onclick="selectOption(this)">Ø¥Ø±Ø³Ø§Ù„Ù‡ Ù„ØµØ¯ÙŠÙ‚ Ù„ÙØ­ØµÙ‡</div>
                </div>
            </div>

            <div class="quiz-question">
                <h3>Ø§Ù„Ø³Ø¤Ø§Ù„ 3/3</h3>
                <p>Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø®Ø·Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„ÙØªØ­ Ù…Ø±ÙÙ‚Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ù† Ù…Ø±Ø³Ù„ÙŠÙ† ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙÙŠÙ†ØŸ</p>
                <div class="quiz-options">
                    <div class="quiz-option correct" onclick="selectOption(this)">Ø§Ø­ØªÙˆØ§Ø¤Ù‡Ø§ Ø¹Ù„Ù‰ Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ø®Ø¨ÙŠØ«Ø©</div>
                    <div class="quiz-option" onclick="selectOption(this)">Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†</div>
                    <div class="quiz-option" onclick="selectOption(this)">Ø¹Ø¯Ù… Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ ÙØªØ­Ù‡Ø§</div>
                </div>
            </div>
        </div>
        <button id="next-btn" class="edu-btn" onclick="showResult()">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
        <div id="quiz-result"></div>
    </section>

    <script>
function showDetails(btn) {
  const details = btn.nextElementSibling;
  details.style.maxHeight = details.classList.contains('show') ? '0' : '500px';
  details.classList.toggle('show');
  btn.textContent = details.classList.contains('show') ? 'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªÙØ§ØµÙŠÙ„' : 'Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„';
}

function selectOption(option) {
  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
  option.parentElement.querySelectorAll('.quiz-option').forEach(opt => {
    opt.classList.remove('selected');
  });
  
  // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
  option.classList.add('selected');
}

function showResult() {
  // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
  const allAnswered = document.querySelectorAll('.quiz-question').length === 
                     document.querySelectorAll('.quiz-option.selected').length;
  
  if(!allAnswered) {
    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹');
    return;
  }

  // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®Ø§Ø·Ø¦Ø©
  let correct = 0;
  document.querySelectorAll('.quiz-question').forEach(question => {
    const selectedOption = question.querySelector('.quiz-option.selected');
    const correctOption = question.querySelector('.quiz-option.correct');
    
    if (selectedOption) {
      if (selectedOption.classList.contains('correct')) {
        correct++;
        selectedOption.classList.add('correct-answer');
      } else {
        selectedOption.classList.add('wrong-answer');
        correctOption.classList.add('correct-answer');
      }
    }
  });

  const total = document.querySelectorAll('.quiz-question').length;
  const scoreClass = correct >= 2 ? 'good' : 'bad';

  // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  document.getElementById('quiz-result').innerHTML = `
    <div class="result-box">
      <h3 class="result-score ${scoreClass}">ğŸ¯ Ù†ØªÙŠØ¬ØªÙƒ: ${correct}/${total}</h3>
      <p>${correct >= 2 ? 'Ø£Ø­Ø³Ù†Øª! Ù„Ø¯ÙŠÙƒ Ù…Ø¹Ø±ÙØ© Ø¬ÙŠØ¯Ø© Ø¨Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª' : 'ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø²ÙŠØ¯ Ø¹Ù† Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª'}</p>
      <button class="edu-btn" onclick="resetQuiz()">Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
    </div>
  `;

  // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø¹Ø¯ Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©
  document.querySelectorAll('.quiz-option').forEach(option => {
    option.style.pointerEvents = 'none';
  });
  document.getElementById('next-btn').style.display = 'none';
}

function resetQuiz() {
  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
  document.querySelectorAll('.selected, .correct-answer, .wrong-answer').forEach(el => {
    el.classList.remove('selected', 'correct-answer', 'wrong-answer');
  });
  document.getElementById('quiz-result').innerHTML = '';
  
  // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  document.querySelectorAll('.quiz-option').forEach(option => {
    option.style.pointerEvents = 'auto';
  });
  document.getElementById('next-btn').style.display = 'block';
}
    </script>
</div>

{% endblock %}